{"version":3,"sources":["app.js"],"names":["page","total","cita","name","date","time","tel","services","initApp","showServices","showSection","$prevSection","document","querySelector","classList","remove","getElementById","add","tab","prevTab","changeSection","querySelectorAll","forEach","link","addEventListener","e","preventDefault","parseInt","target","dataset","step","pagination","async","res","fetch","data","json","servicios","service","id","nombre","precio","$title","createElement","textContent","$price","toLocaleString","$container","onclick","selectService","serviceId","appendChild","error","console","log","element","tagName","parentElement","contains","removeService","addService","firstElementChild","price","lastElementChild","filter","nextPage","prevPage","$nextBtn","$prevBtn","showResumen","$resumen","firstChild","removeChild","Object","values","includes","$noServices","$sectionTitle","$name","innerHTML","$date","$time","$tel","$heading","$servicesResumen","$serviceContainer","$serviceTitle","$servicePrice","totalPrice","split","replace","$total","getName","value","trim","length","showAlert","$alert","message","type","setTimeout","getDate","$dateInput","Date","getUTCDay","disabledPastDates","now","disabledDate","getFullYear","getMonth","min","getTel","$telInput","regexp","test","getTime","$timeInput"],"mappings":"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","file":"bundle.js","sourcesContent":["let page = 1; // control the current section 1 Servicios-2 Datos-3 Resumen\r\nlet total = 0; // total to pay\r\n\r\n// data of the client\r\nconst cita = {\r\n    name: \"\",\r\n    date: \"\",\r\n    time: \"\",\r\n    tel: \"\",\r\n    services: [],\r\n};\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    initApp(); // generate service cards in services section\r\n\r\n    showSection(); // show initial section -1 Servicios\r\n\r\n    changeSection(); // change between tabs and sections\r\n\r\n    // navigate between prev and next section\r\n    nextPage();\r\n    prevPage();\r\n\r\n    pagination(); // check the current page to display buttons\r\n    disabledPastDates(); // disable past dates in date input\r\n\r\n    // show the session's resumen without any data\r\n    showResumen();\r\n\r\n    getName(); // get the name input value in the form\r\n    getDate(); // get the date input value in the form\r\n    getTime(); // get the time input value in the form\r\n    getTel(); // get the date input value in the form\r\n});\r\n\r\nfunction initApp() {\r\n    showServices();\r\n}\r\n\r\nfunction showSection() {\r\n    // hide other sections\r\n    const $prevSection = document.querySelector(\".visible\");\r\n    if ($prevSection) $prevSection.classList.remove(\"visible\");\r\n\r\n    // select the current section and make it visible\r\n    const currentSection = document.getElementById(`step-${page}`);\r\n    currentSection.classList.add(\"visible\");\r\n\r\n    const tab = document.querySelector(`[data-step=\"${page}\"]`); // select current tab\r\n\r\n    const prevTab = document.querySelector(\".current\"); // select previous tab\r\n    if (prevTab) prevTab.classList.remove(\"current\"); // remove its class \"current\" \r\n    tab.classList.add(\"current\"); // add class to the current tab\r\n}\r\n\r\nfunction changeSection() {\r\n    // select a nodelist of tabs\r\n    const $links = document.querySelectorAll(\".tabs > button\");\r\n\r\n    $links.forEach((link) => {\r\n        link.addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n            // change the current page from the data set\r\n            page = parseInt(e.target.dataset.step);\r\n\r\n            showSection(); // show the current section\r\n            pagination(); // check the display of the buttons\r\n        });\r\n    });\r\n}\r\n\r\nasync function showServices() {\r\n    // fetch the data of the API\r\n    try {\r\n        const res = await fetch(\"./servicios.json\");\r\n        const data = await res.json();\r\n\r\n        const { servicios } = data;\r\n\r\n        // generate HTML for every service\r\n        servicios.forEach((service) => {\r\n            const { id, nombre, precio } = service;\r\n\r\n            // DOM scripting\r\n            const $title = document.createElement(\"P\");\r\n            $title.textContent = nombre; // title of the service\r\n            $title.classList.add(\"service-name\");\r\n\r\n            // price\r\n            const $price = document.createElement(\"P\");\r\n            $price.textContent = `Gs ${precio.toLocaleString(\"es-ES\")}`;\r\n            $price.classList.add(\"service-price\");\r\n\r\n            // create a container for the service\r\n            const $container = document.createElement(\"DIV\");\r\n            $container.classList.add(\"service\");\r\n            $container.onclick = selectService; // add an event\r\n            $container.dataset.serviceId = id; // add a data attribute for id\r\n\r\n            // append elements to the container\r\n            $container.appendChild($title);\r\n            $container.appendChild($price);\r\n            // append to the page\r\n            document.getElementById(\"services\").appendChild($container);\r\n        });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nfunction selectService(e) {\r\n    // force the click on the DIV element\r\n    let element = e.target.tagName === \"P\" ? e.target.parentElement : e.target;\r\n\r\n    if (element.classList.contains(\"selected\")) {\r\n        element.classList.remove(\"selected\");\r\n        const id = parseInt(element.dataset.serviceId);\r\n\r\n        removeService(id); // remove from the services array\r\n    } else {\r\n        element.classList.add(\"selected\");\r\n\r\n        // create object for the \"cita\"\r\n        const serviceObj = {\r\n            id: parseInt(element.dataset.serviceId),\r\n            name: element.firstElementChild.textContent,\r\n            price: element.lastElementChild.textContent,\r\n        };\r\n\r\n        addService(serviceObj); // add to the services array\r\n    }\r\n}\r\n\r\nfunction removeService(id) {\r\n    const { services } = cita;\r\n    // get an array filtered by id \r\n    cita.services = services.filter((service) => service.id !== id);\r\n\r\n    //console.log(cita.services);\r\n}\r\n\r\nfunction addService(service) {\r\n    const { services } = cita;\r\n\r\n    cita.services = [...services, service]; // same as A.push()\r\n    //console.log(cita.services);\r\n}\r\n\r\nfunction nextPage() {\r\n    // button to navigate to the next section\r\n    const $nextBtn = document.getElementById(\"next\");\r\n\r\n    $nextBtn.addEventListener(\"click\", () => {\r\n        page++; // current page incremented \r\n        //console.log(page);\r\n        pagination(); // check the buttons\r\n    });\r\n}\r\n\r\nfunction prevPage() {\r\n    const $prevBtn = document.getElementById(\"prev\");\r\n\r\n    $prevBtn.addEventListener(\"click\", () => {\r\n        page--; // current page decressed\r\n        //console.log(page);\r\n        pagination(); // check the buttons again\r\n    });\r\n}\r\n\r\nfunction pagination() {\r\n    const $nextBtn = document.getElementById(\"next\");\r\n    const $prevBtn = document.getElementById(\"prev\");\r\n\r\n    if (page === 1) {\r\n        // only shows the next button\r\n        $prevBtn.classList.add(\"hide\");\r\n        $nextBtn.classList.remove(\"hide\");\r\n    } else if (page === 3) {\r\n        // only shows prev button\r\n        $prevBtn.classList.remove(\"hide\");\r\n        $nextBtn.classList.add(\"hide\");\r\n        showResumen(); // load the resumen\r\n    } else {\r\n        // page 2 shows both buttons\r\n        $prevBtn.classList.remove(\"hide\");\r\n        $nextBtn.classList.remove(\"hide\");\r\n    }\r\n\r\n    showSection(); // refresh the view based on the page variable\r\n}\r\n\r\nfunction showResumen() {\r\n    // destructuring state \"cita\"\r\n    const { name, date, time, tel, services } = cita;\r\n\r\n    const $resumen = document.getElementById(\"step-3\");\r\n    // clear the previous alert if it exists\r\n    while ($resumen.firstChild) {\r\n        $resumen.removeChild($resumen.firstChild);\r\n    }\r\n\r\n    // validate the object fully completed\r\n    if (Object.values(cita).includes(\"\")) {\r\n        // create an alert\r\n        const $noServices = document.createElement(\"P\");\r\n        $noServices.textContent =\r\n            \"Faltan datos de servicios, hora, fecha o su nombre\";\r\n        $noServices.classList.add(\"invalid\");\r\n\r\n        // add it to the DOM\r\n        $resumen.appendChild($noServices);\r\n        //console.log(cita);\r\n        return;\r\n    }\r\n\r\n    // create a title for the section resumen\r\n    const $sectionTitle = document.createElement(\"H2\");\r\n    $sectionTitle.textContent = \"Resumen de Cita\";\r\n\r\n    // show the resumen\r\n    const $name = document.createElement(\"P\"); // service's name\r\n    $name.innerHTML = `<span class=\"bold\">Nombre:</span> ${name}`;\r\n\r\n    const $date = document.createElement(\"P\"); // service's date\r\n    $date.innerHTML = `<span class=\"bold\">Fecha:</span> ${date}`;\r\n\r\n    const $time = document.createElement(\"P\"); // service's time\r\n    $time.innerHTML = `<span class=\"bold\">Hora:</span> ${time}`;\r\n\r\n    const $tel = document.createElement(\"P\"); // service's telephone\r\n    $tel.innerHTML = `<span class=\"bold\">Tu teléfono:</span> ${tel}`;\r\n\r\n    const $heading = document.createElement(\"H3\"); // service's resumen\r\n    $heading.textContent = \"Resumen de servicios\";\r\n\r\n    // create a container for every service\r\n    const $servicesResumen = document.createElement(\"DIV\");\r\n    $servicesResumen.classList.add(\"resumen-services\");\r\n\r\n    $servicesResumen.appendChild($heading); // add the title\r\n\r\n    // show every service details\r\n    services.forEach((service) => {\r\n        const { name, price } = service; // client services\r\n\r\n        const $serviceContainer = document.createElement(\"DIV\");\r\n        $serviceContainer.classList.add(\"service-container\");\r\n\r\n        const $serviceTitle = document.createElement(\"P\");\r\n        $serviceTitle.textContent = name; // service's name\r\n\r\n        const $servicePrice = document.createElement(\"P\");\r\n        $servicePrice.textContent = price; // service's price\r\n        $servicePrice.classList.add(\"service-price\");\r\n\r\n        // remove the \"Gs\" and the point from the price\r\n        const totalPrice = parseInt(price.split(\" \")[1].replace(\".\", \"\"));\r\n        //console.log(totalPrice);\r\n\r\n        total += totalPrice; // increment the global variable \"total\"\r\n\r\n        // append content to the service container\r\n        $serviceContainer.appendChild($serviceTitle);\r\n        $serviceContainer.appendChild($servicePrice);\r\n        $servicesResumen.appendChild($serviceContainer);\r\n    });\r\n\r\n    // this is the existing DOM element to append\r\n    const $container = document.getElementById(\"step-3\");\r\n\r\n    // append all of the details to the DOM\r\n    $container.appendChild($sectionTitle);\r\n    $container.appendChild($name);\r\n    $container.appendChild($date);\r\n    $container.appendChild($time);\r\n    $container.appendChild($tel);\r\n    $container.appendChild($servicesResumen);\r\n\r\n    const $total = document.createElement(\"P\");\r\n    $total.classList.add(\"total\");\r\n    $total.innerHTML = `<span class=\"bold\">Total a pagar:</span> Gs ${total.toLocaleString(\r\n        \"es-ES\"\r\n    )}`;\r\n\r\n    $container.appendChild($total); // show the total ammount\r\n}\r\n\r\nfunction getName() {\r\n    // get the client's name to the \"cita\" object\r\n    const $nameInput = document.getElementById(\"name\");\r\n\r\n    $nameInput.addEventListener(\"input\", (e) => {\r\n        const data = e.target.value.trim();\r\n\r\n        // validation\r\n        if (data.length < 5) {\r\n            showAlert(\"Nombre no válido.\", \"error\");\r\n        } else {\r\n            const $alert = document.querySelector(\".alert\");\r\n            if ($alert) $alert.remove(); // if exists a previous alert, remove it\r\n            cita.name = data;\r\n        }\r\n    });\r\n}\r\n\r\nfunction showAlert(message, type) {\r\n    // if there is already an alert, then don't create another one\r\n    const prevAlert = document.querySelector(\".alert\");\r\n    if (prevAlert) return;\r\n\r\n    // create an alert\r\n    const $alert = document.createElement(\"DIV\");\r\n    $alert.textContent = message;\r\n    $alert.classList.add(\"alert\");\r\n\r\n    if (type === \"error\") {\r\n        $alert.classList.add(\"error\");\r\n    }\r\n\r\n    // append to the DOM\r\n    const $form = document.querySelector(\".form\");\r\n    $form.appendChild($alert);\r\n\r\n    // remove the alert after 3 seconds\r\n    setTimeout(() => $alert.remove(), 3000);\r\n}\r\n\r\nfunction getDate() {\r\n    // get the date from the input to the \"cita\" object\r\n    const $dateInput = document.getElementById(\"date\");\r\n\r\n    $dateInput.addEventListener(\"input\", (e) => {\r\n        // create a Date object based on the input\r\n        const date = new Date(e.target.value).getUTCDay();\r\n\r\n        // validate if 0 = sunday, 6 = saturday\r\n        if ([0, 6].includes(date)) {\r\n            e.preventDefault();\r\n            $dateInput.value = \"\";\r\n            showAlert(\"Solo atendemos de lunes a viernes.\", \"error\");\r\n        } else {\r\n            cita.date = $dateInput.value;\r\n            //console.log(cita);\r\n        }\r\n    });\r\n}\r\n\r\nfunction disabledPastDates() {\r\n    const $dateInput = document.getElementById(\"date\");\r\n\r\n    const now = new Date(); // get the current date\r\n    const year = now.getFullYear();\r\n    const month = // add 0 to the dates if they need\r\n        now.getMonth() < 10 ? `0${now.getMonth() + 1}` : now.getMonth() + 1;\r\n    const day = now.getDate() < 10 ? `0${now.getDate()}` : now.getDate();\r\n\r\n    // AAAA-MM-DD\r\n    const disabledDate = `${year}-${month}-${day}`;\r\n    $dateInput.min = disabledDate; //set up the min attribute\r\n}\r\n\r\nfunction getTel() {\r\n    // get the telephon number from the tel input\r\n    const $telInput = document.getElementById(\"tel\");\r\n    const regexp = /^[0-9]*$/; // only numbers\r\n\r\n    $telInput.addEventListener(\"change\", (e) => {\r\n        // tel number needs 10 characters and it must be numbers\r\n        if (e.target.value.length === 10 && regexp.test(e.target.value)) {\r\n            cita.tel = e.target.value;\r\n        } else {\r\n            showAlert(\"Pon un número válido (ej: 0981123456)\", \"error\");\r\n            cita.tel = \"\";\r\n            $telInput.value = \"\";\r\n        }\r\n    });\r\n}\r\n\r\nfunction getTime() {\r\n    // get the time from the time input\r\n    $timeInput = document.getElementById(\"time\");\r\n\r\n    $timeInput.addEventListener(\"change\", (e) => {\r\n        const time = e.target.value.split(\":\")[0];\r\n        // validate the time 8-21 hs\r\n        if (parseInt(time) < 8 || parseInt(time) > 20) {\r\n            showAlert(\"Solo atendemos de 08:00 a 21:00 hs\", \"error\");\r\n            cita.time = \"\";\r\n            $timeInput.value = \"\";\r\n            return;\r\n        }\r\n\r\n        cita.time = $timeInput.value;\r\n    });\r\n}\r\n"]}