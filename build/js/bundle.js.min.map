{"version":3,"sources":["app.js"],"names":["page","initApp","showServices","showSection","$prevSection","document","querySelector","classList","remove","getElementById","add","tab","prevTab","changeSection","querySelectorAll","forEach","link","addEventListener","e","preventDefault","parseInt","target","dataset","step","pagination","async","res","fetch","data","json","servicios","service","id","nombre","precio","$title","createElement","textContent","$price","toLocaleString","$container","onclick","selectService","serviceId","appendChild","error","console","log","tagName","parentElement","toggle","nextPage","prevPage","$nextBtn","$prevBtn"],"mappings":"AAAA,IAAAA,KAAA,EAgBA,SAAAC,UACAC,eAGA,SAAAC,cAEA,MAAAC,EAAAC,SAAAC,cAAA,YACAF,GAAAA,EAAAG,UAAAC,OAAA,WAEAH,SAAAI,eAAA,QAAAT,MACAO,UAAAG,IAAA,WAGA,MAAAC,EAAAN,SAAAC,cAAA,eAAAN,UAGAY,EAAAP,SAAAC,cAAA,YACAM,GAAAA,EAAAL,UAAAC,OAAA,WACAG,EAAAJ,UAAAG,IAAA,WAGA,SAAAG,gBACAR,SAAAS,iBAAA,kBAEAC,QAAAC,IACAA,EAAAC,iBAAA,QAAAC,IACAA,EAAAC,iBACAnB,KAAAoB,SAAAF,EAAAG,OAAAC,QAAAC,MAEApB,cACAqB,iBAKAC,eAAAvB,eACA,IACA,MAAAwB,QAAAC,MAAA,oBACAC,QAAAF,EAAAG,QAEAC,UAAAA,GAAAF,EAGAE,EAAAf,QAAAgB,IACA,MAAAC,GAAAA,EAAAC,OAAAA,EAAAC,OAAAA,GAAAH,EAGAI,EAAA9B,SAAA+B,cAAA,KACAD,EAAAE,YAAAJ,EACAE,EAAA5B,UAAAG,IAAA,gBAGA,MAAA4B,EAAAjC,SAAA+B,cAAA,KACAE,EAAAD,YAAA,MAAAH,EAAAK,iBACAD,EAAA/B,UAAAG,IAAA,iBAGA,MAAA8B,EAAAnC,SAAA+B,cAAA,OACAI,EAAAjC,UAAAG,IAAA,WACA8B,EAAAC,QAAAC,cACAF,EAAAlB,QAAAqB,UAAAX,EAGAQ,EAAAI,YAAAT,GACAK,EAAAI,YAAAN,GAEAjC,SAAAI,eAAA,YAAAmC,YAAAJ,KAEA,MAAAK,GACAC,QAAAC,IAAAF,IAIA,SAAAH,cAAAxB,IAEA,MAAAA,EAAAG,OAAA2B,QACA9B,EAAAG,OAAA4B,cACA/B,EAAAG,QAEAd,UAAA2C,OAAA,YAGA,SAAAC,WACA9C,SAAAI,eAAA,QACAQ,iBAAA,QAAA,KACAjB,OACA8C,QAAAC,IAAA/C,MACAwB,eAIA,SAAA4B,WACA/C,SAAAI,eAAA,QACAQ,iBAAA,QAAA,KACAjB,OACA8C,QAAAC,IAAA/C,MACAwB,eAIA,SAAAA,aACA,MAAA6B,EAAAhD,SAAAI,eAAA,QACA6C,EAAAjD,SAAAI,eAAA,QAEA,IAAAT,MACAsD,EAAA/C,UAAAG,IAAA,QACA2C,EAAA9C,UAAAC,OAAA,SACA,IAAAR,MACAsD,EAAA/C,UAAAC,OAAA,QACA6C,EAAA9C,UAAAG,IAAA,UAEA4C,EAAA/C,UAAAC,OAAA,QACA6C,EAAA9C,UAAAC,OAAA,SAGAL,cAjIAE,SAAAY,iBAAA,mBAAA,KACAhB,UAEAE,cAEAU,gBAGAsC,WACAC,WAEA5B","file":"bundle.js","sourcesContent":["let page = 1;\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    initApp(); // generate service cards in services section\r\n    \r\n    showSection(); // show initial section\r\n    \r\n    changeSection(); // change between tabs and sections\r\n    \r\n    // navigate between prev and next\r\n    nextPage(); \r\n    prevPage();\r\n\r\n    pagination() // check the current page to display buttons\r\n})\r\n\r\nfunction initApp() {\r\n    showServices();\r\n}\r\n\r\nfunction showSection() {\r\n    // hide other sections\r\n    const $prevSection = document.querySelector(\".visible\");\r\n    if($prevSection) $prevSection.classList.remove(\"visible\");\r\n\r\n    const currentSection = document.getElementById(`step-${page}`);\r\n    currentSection.classList.add(\"visible\");\r\n\r\n    // highlight current tab\r\n    const tab = document.querySelector(`[data-step=\"${page}\"]`);\r\n\r\n    // delete current class on the previous tab\r\n    const prevTab = document.querySelector(\".current\");\r\n    if(prevTab) prevTab.classList.remove(\"current\");\r\n    tab.classList.add(\"current\");\r\n}\r\n\r\nfunction changeSection() {\r\n    const $links = document.querySelectorAll(\".tabs > button\");\r\n\r\n    $links.forEach(link => {\r\n        link.addEventListener(\"click\", e => {\r\n            e.preventDefault();\r\n            page = parseInt(e.target.dataset.step);\r\n\r\n            showSection(); \r\n            pagination();\r\n        })\r\n    })\r\n}\r\n\r\nasync function showServices() {\r\n    try {\r\n        const res = await fetch(\"./servicios.json\");\r\n        const data = await res.json();\r\n        \r\n        const { servicios } = data;\r\n\r\n        // generate HTML\r\n        servicios.forEach( service => {\r\n            const { id, nombre, precio } = service;\r\n\r\n            // DOM scripting\r\n            const $title = document.createElement(\"P\");\r\n            $title.textContent = nombre;\r\n            $title.classList.add(\"service-name\");\r\n\r\n            // price\r\n            const $price = document.createElement(\"P\");\r\n            $price.textContent = `Gs ${precio.toLocaleString()}`;\r\n            $price.classList.add(\"service-price\");\r\n            \r\n            // container\r\n            const $container = document.createElement(\"DIV\");\r\n            $container.classList.add(\"service\");\r\n            $container.onclick = selectService; // add an event\r\n            $container.dataset.serviceId = id; // add a data attribute\r\n\r\n            // append element\r\n            $container.appendChild($title);\r\n            $container.appendChild($price);\r\n            // append to the page\r\n            document.getElementById(\"services\").appendChild($container);\r\n        });\r\n    } catch(error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nfunction selectService(e) {\r\n    // force the click on the DIV element\r\n    let element = e.target.tagName === 'P'\r\n                ? e.target.parentElement\r\n                : e.target;\r\n\r\n    element.classList.toggle(\"selected\");\r\n}\r\n\r\nfunction nextPage() {\r\n    const $nextBtn = document.getElementById(\"next\");\r\n    $nextBtn.addEventListener('click', () => {\r\n        page++;\r\n        console.log(page);\r\n        pagination();\r\n    });\r\n}\r\n\r\nfunction prevPage() {\r\n    const $prevBtn = document.getElementById(\"prev\");\r\n    $prevBtn.addEventListener('click', () => {\r\n        page--;\r\n        console.log(page);\r\n        pagination();\r\n    });\r\n}\r\n\r\nfunction pagination() {\r\n    const $nextBtn = document.getElementById(\"next\");\r\n    const $prevBtn = document.getElementById(\"prev\");\r\n\r\n    if(page === 1) {\r\n        $prevBtn.classList.add(\"hide\");\r\n        $nextBtn.classList.remove(\"hide\");\r\n    } else if(page === 3) {\r\n        $prevBtn.classList.remove(\"hide\");\r\n        $nextBtn.classList.add(\"hide\");\r\n    } else {\r\n        $prevBtn.classList.remove(\"hide\");\r\n        $nextBtn.classList.remove(\"hide\");\r\n    }\r\n\r\n    showSection();\r\n}"]}